function nitroThumb(t){return('<img src="'+document.getElementById(t).getAttribute("data-thumb")+'" alt="'+document.getElementById(t).getAttribute("data-thumbalt")+'">').replace("ID",t)+'<a href="#" class="et_pb_video_play"></a>'}function machineYoutubeFrame(t){t.preventDefault();var e=document.createElement("iframe");e.setAttribute("src","https://www.youtube.com/embed/"+this.dataset.id+"?autoplay=1&mute=1"),e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","1"),e.setAttribute("allow","autoplay; fullscreen");var a=document.createElement("div");a.className="fluid-width-video-wrapper",a.style.paddingTop="56.25%",e.style.position="absolute",e.style.top="0",a.appendChild(e),this.parentNode.replaceWith(a)}function machineVimeoFrame(t){t.preventDefault();var e=document.createElement("iframe");e.setAttribute("src","https://www.youtube.com/embed/ID?autoplay=1&mute=1".replace("ID",this.dataset.id)),e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","1"),e.setAttribute("allowfullscreen","1"),this.parentNode.replaceChild(e,this)}function initializeVideoListeners(){var t,e,a=document.getElementsByClassName("de_demach_youtube_listener");for(e=0;e<a.length;e++)(t=document.createElement("div")).setAttribute("data-id",a[e].dataset.id),t.innerHTML=nitroThumb(a[e].dataset.id),t.onclick=machineYoutubeFrame,a[e].appendChild(t);for(e=0,a=document.getElementsByClassName("de_demach_vimeo_listener");e<a.length;e++)(t=document.createElement("div")).setAttribute("data-id",a[e].dataset.id),t.innerHTML=nitroThumb(a[e].dataset.id),t.onclick=machineVimeoFrame,a[e].appendChild(t)}function get_post_popup(){if(jQuery(".dmach-popup").remove(),jQuery(".show_modal").length>0){var t=jQuery(".show_modal").eq(0).attr("data-modal-style"),e=[],a=[],i=[],s=jQuery(".show_modal").eq(0).closest(".divi-filter-archive-loop").attr("data-posttype");jQuery(".show_modal").each(function(){var t=jQuery(this).attr("data-id"),s=jQuery(this).attr("data-modal-layout"),o=jQuery(this).attr("data-modal-postype"),d=a.indexOf(s);-1!=d?e[d].push(t):(a.push(s),i.push(o),e.push([t]))}),jQuery(".et-l--body").length?jQuery(".et-l--body").append('<div id="dmach-modal-wrapper" class="'+t+' loading"><div id="loading-modal" modallayout-id="" modaldata-id="" class="dmach-popup"><div class="post-modal-cont"><div class="modal-close"></div><div class="et_pb_section"><div class="et_pb_row"><div class="et_pb_column et_pb_column_4_4"><div class="filtered-posts-loading load-3"><span class="line"></span><span class="line"></span><span class="line"></span></div></div></div></div></div></div></div>'):jQuery("#page-container").append('<div id="dmach-modal-wrapper" class="'+t+' loading"><div id="loading-modal" modallayout-id="" modaldata-id="" class="dmach-popup"><div class="post-modal-cont"><div class="modal-close"></div><div class="et_pb_section"><div class="et_pb_row"><div class="et_pb_column et_pb_column_4_4"><div class="filtered-posts-loading load-3"><span class="line"></span><span class="line"></span><span class="line"></span></div></div></div></div></div></div></div>');var o={action:"divi_filter_get_post_modal_ajax_handler",security:filter_ajax_object.security,post_ids:JSON.stringify(e),post_type:s,modal_layout:JSON.stringify(a),modal_postype:JSON.stringify(i)};jQuery("body").addClass("hide_update_content_modal"),jQuery(".show_modal").click(function(t){t.preventDefault(),t.stopPropagation(),"off"==jQuery(this).attr("update_content_show_start")&&jQuery("body").removeClass("hide_update_content_modal");var e=jQuery(this).attr("data-id"),a=jQuery(this).attr("loading_animation_color"),i=jQuery(this).attr("modal_type"),s=jQuery(this).attr("data-modal-layout");if("update_content"==i){jQuery(".dmach_content_update").each(function(){jQuery(this).hide(),jQuery(this).removeClass("open")}),jQuery("#post-modal-"+s+"-"+e).length?jQuery("#post-modal-"+s+"-"+e).addClass("open"):(jQuery("#loading-modal").attr("modaldata-id",e),jQuery("#loading-modal").attr("modallayout-id",s),jQuery("#loading-modal").addClass("open"));var o=jQuery(".dmach_content_update_cont"),d=parseInt("0px");jQuery("html, body").animate({scrollTop:o.offset().top-d},500)}else""!==a&&jQuery("#loading-modal .line").each(function(t,e){jQuery(this).css("background-color",a)}),jQuery("#post-modal-"+s+"-"+e).length?jQuery("#post-modal-"+s+"-"+e).addClass("open"):(jQuery("#loading-modal").attr("modaldata-id",e),jQuery("#loading-modal").attr("modallayout-id",s),jQuery("#loading-modal").addClass("open")),jQuery("html").css("overflow","hidden")}),jQuery.ajax({url:filter_ajax_object.ajax_url,data:o,type:"POST",dataType:"JSON",success:function(e){if(jQuery("body").find("#dmach-modal-wrapper:not(.loading)").remove(),jQuery("#loading-modal").remove(),jQuery("#dmach-modal-wrapper.loading").length||(jQuery(".et-l--body").length?jQuery(".et-l--body").append('<div id="dmach-modal-wrapper" class="'+t+'"></div>'):jQuery("#page-container").append('<div id="dmach-modal-wrapper" class="'+t+'"></div>')),jQuery(".show_modal").each(function(){var t=jQuery(this).attr("data-id"),a=jQuery(this).attr("modal_type"),i=jQuery(this).attr("update_content_pos"),s=jQuery(this).attr("data-modal-layout");if("update_content"==a?"above"==i?(jQuery(".update_content_loop .dmach-before-posts").addClass("dmach_content_update_cont"),jQuery(".update_content_loop .dmach-before-posts").append('<div id="post-modal-'+s+"-"+t+'" class="dmach_content_update"><div class="post-modal-cont">'+e.content["show_modal_"+s+"_"+t]+"</div></div>")):(jQuery(".update_content_loop .dmach-after-posts").addClass("dmach_content_update_cont"),jQuery(".update_content_loop .dmach-after-posts").append('<div id="post-modal-'+s+"-"+t+'" class="dmach_content_update"><div class="post-modal-cont">'+e.content["show_modal_"+s+"_"+t]+"</div></div>")):jQuery("#dmach-modal-wrapper").append('<div id="post-modal-'+s+"-"+t+'" class="dmach-popup"><div class="post-modal-cont"><div class="modal-close"></div>'+e.content["show_modal_"+s+"_"+t]+'<div class="dmach-nextprev-post"><div class="dmach-prev-post"></div><div class="dmach-next-post"></div></div></div></div>'),jQuery("#post-modal-"+s+"-"+t).find(".et_pb_map_container").length>0){var o={},d={};jQuery("#post-modal-"+s+"-"+t).find(".et_pb_map_container").each(function(){d[s][t]=jQuery(this),"function"!=typeof et_pb_map_init?o[s][t]=setInterval(function(){"function"==typeof et_pb_map_init&&(et_pb_map_init(d[s][t]),clearInterval(o[s][t]))},1e3):et_pb_map_init(jQuery(this))})}}),jQuery("#dmach-modal-wrapper.loading").length){var a=jQuery("#loading-modal").attr("modaldata-id"),i=jQuery("#loading-modal").attr("modallayout-id");jQuery("#dmach-modal-wrapper").removeClass("loading"),jQuery("#loading-modal").removeClass("open"),jQuery("#post-modal-"+i+"-"+a).addClass("open")}jQuery("#dmach-modal-wrapper").append(e.css_output),jQuery(".dmach-popup").each(function(){var t=jQuery(this);t.find(".et_pb_de_mach_acf_slider_containter").each(function(){var e=jQuery(this),a=e.attr("id");if(a){var i=t.find(".gallery_vars");if(i.length>0){var s=i.attr("data-gallery_vars"),o=i.attr("data-gallery_type");if(s&&(s=JSON.parse(s="{"+(s=(s=(s=s.replace(/,\s*$/,"")).replace(/,/g,", ")).replace(/'/g,'"'))+"}"),e.hasClass("slick-initialized")&&e.slick("unslick"),e.slick(s)),"gallery"===o){var d=i.attr("data-gallery_nav");if(d){(d=JSON.parse(d="{"+(d=(d=(d=d.replace(/,\s*$/,"")).replace(/,/g,", ")).replace(/'/g,'"'))+"}")).asNavFor="#"+a,d.focusOnSelect=!0;var n=t.find(".et_pb_de_mach_acf_slider_containter_nav");n.length>0&&(n.hasClass("slick-initialized")&&n.slick("unslick"),n.slick(d))}}}}})}),jQuery("#dmach-modal-wrapper .dmach-popup").each(function(t,e){jQuery(this).find(".wpcf7-form").length>0&&wpcf7.init(jQuery(this).find(".wpcf7-form"))}),"undefined"!=typeof wc_add_to_cart_variation_params&&jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form()}),void 0!==$.fn.magnificPopup&&jQuery(".et_pb_de_mach_gallery_item").length>0&&jQuery(".et_pb_gallery_image a").magnificPopup({type:"image"}),jQuery.event.trigger({type:"divi_machine_modal_loaded"})}})}}function same_height_cards(){jQuery(".same-height-cards .filtered-posts").each(function(){var t=0;jQuery(".grid-col",this).each(function(){jQuery(this).height()>t&&(t=jQuery(this).height())});var e=jQuery(this).find(".et_pb_section").css("marginBottom");jQuery(".grid-col",this).height(t),jQuery(".grid-col",this).css("margin-bottom",e)})}document.addEventListener("DOMContentLoaded",function(){initializeVideoListeners()}),jQuery(document).on("divi_filter_completed",function(){initializeVideoListeners()}),jQuery(document).ready(function(t){void 0!==t.fn.magnificPopup&&t(".et_pb_de_mach_gallery_trigger").magnificPopup({type:"inline",midClick:!0}),t(document.body).on("click",".dmach-link-whole-grid-card",function(){var e=t(this).data("link-url");window.location.href=e}),main_count=Number(0),t(".dmach-search-items").each(function(e,a){main_count=Number(0),t(this).children(".et_pb_de_mach_search_posts_item").each(function(e,a){(main_count+=Number(t(this).find(".search_filter_cont").attr("data-count")))>="100"&&(t(this).addClass("last-item"),main_count=Number(0))})}),t(".search_filter_cont").removeClass("hidden"),t(".button_container").removeClass("hidden"),t("#select_post_types").on("change",function(){var e=this.value;t("#search_post_type").val(e)});var e=t(".filtered-posts").attr("data-columns");t(".filtered-posts").find(".et_pb_column").addClass(e),t(window).click(function(){t(".et_pb_de_mach_search_posts_item").removeClass("visible")}),t(".et_pb_de_mach_search_posts_item").click(function(t){t.stopPropagation()}),t(".dmach-filer-toggle .et_pb_contact_field_options_title ").click(function(e){t(this).closest(".et_pb_de_mach_search_posts_item").hasClass("visible")?t(".et_pb_de_mach_search_posts_item").removeClass("visible"):(t(".et_pb_de_mach_search_posts_item").removeClass("visible"),t(this).closest(".et_pb_de_mach_search_posts_item").addClass("visible"))}),t(".dmach-tag-cloud a").click(function(e){var a=t(this).attr("class").match(/tag-link-[\w-]*\b/);t(this).closest(".dmach-tag-cloud").find("select").val(a),t(this).closest(".dmach-tag-cloud").find("select").trigger("change")}),get_post_popup()}),jQuery(document).on("click",".dmach-popup .modal-close",function(t){t.preventDefault(),jQuery(this).closest(".dmach-popup").removeClass("open"),jQuery("html").css("overflow","auto"),jQuery("a").css("pointer-events","none"),setTimeout(function(){jQuery("a").css("pointer-events","")},100)}),jQuery(document).on("touchstart click",".dmach-popup",function(){jQuery(this).closest(".dmach-popup").removeClass("open"),jQuery("html").css("overflow","auto"),jQuery("a").css("pointer-events","none"),setTimeout(function(){jQuery("a").css("pointer-events","")},100)}),jQuery(document).on("touchstart click",".post-modal-cont",function(t){t.stopPropagation()}),jQuery(document).on("touchstart click",".dmach-next-post",function(t){jQuery(this).closest(".dmach-popup").next(".dmach-popup").length?(jQuery(this).closest(".dmach-popup").removeClass("open"),jQuery(this).closest(".dmach-popup").next(".dmach-popup").addClass("open")):(jQuery(this).closest(".dmach-popup").removeClass("open"),jQuery("html").css("overflow","auto"))}),jQuery(document).on("touchstart click",".dmach-prev-post",function(t){jQuery(this).closest(".dmach-popup").prev(".dmach-popup").length?(jQuery(this).closest(".dmach-popup").removeClass("open"),jQuery(this).closest(".dmach-popup").prev(".dmach-popup").addClass("open")):(jQuery(this).closest(".dmach-popup").removeClass("open"),jQuery("html").css("overflow","auto"))}),jQuery(document).ready(function(t){t("span.hidethis").each(function(){var e=t(this).attr("data-hide_option");if(void 0!==e){if("hide_parent_row"==e)t(this).parents(".et_section_specialty").length?(t(this).closest(".et_pb_row_inner").hide(),t(this).closest(".et_pb_row_inner").addClass("hidethis")):(t(this).closest(".et_pb_row").hide(),t(this).closest(".et_pb_row").addClass("hidethis"));else if("hide_parent_section"==e)t(this).closest(".et_pb_section").hide(),t(this).closest(".et_pb_section").addClass("hidethis");else if("hide_element"==e){var a=t(this).attr("data-hide_target"),i=t(this).attr("data-hide_target_in_section");void 0!==i&&"on"==i?(t(this).closest(".et_pb_section").find(a).hide(),t(this).closest(".et_pb_section").find(a).addClass("hidethis"),(a.indexOf("grid-item")>-1||a.indexOf("grid-col")>-1||a.indexOf("dmach-grid-item")>-1)&&(t(this).closest(".grid-item, .grid-col, .dmach-grid-item").hide(),t(this).closest(".grid-item, .grid-col, .dmach-grid-item").addClass("hidethis"))):(t(a).hide(),t(a).addClass("hidethis"))}}}),jQuery(document).on("divi_filter_completed",function(){jQuery("span.hidethis").each(function(){var e=jQuery(this).attr("data-hide_option");if(void 0!==e){if("hide_parent_row"==e)t(this).parents(".et_section_specialty").length?(t(this).closest(".et_pb_row_inner").hide(),t(this).closest(".et_pb_row_inner").addClass("hidethis")):(t(this).closest(".et_pb_row").hide(),t(this).closest(".et_pb_row").addClass("hidethis"));else if("hide_parent_section"==e)t(this).closest(".et_pb_section").hide(),t(this).closest(".et_pb_section").addClass("hidethis");else if("hide_element"==e){var a=t(this).attr("data-hide_target"),i=t(this).attr("data-hide_target_in_section");void 0!==i&&"on"==i?(t(this).closest(".et_pb_section").find(a).hide(),t(this).closest(".et_pb_section").find(a).addClass("hidethis"),(a.indexOf("grid-item")>-1||a.indexOf("grid-col")>-1||a.indexOf("dmach-grid-item")>-1)&&(t(this).closest(".grid-item, .grid-col, .dmach-grid-item").hide(),t(this).closest(".grid-item, .grid-col, .dmach-grid-item").addClass("hidethis"))):(t(a).hide(),t(a).addClass("hidethis"))}}})})}),jQuery(document).ready(function(t){var e=t(".et_pb_countdown_timer");window.et_countdown_timer=function(t){var e,a=parseInt(t.attr("data-end-timestamp"))-new Date().getTime()/1e3;days=(days=parseInt(a/86400))>0?days:0,a%=86400,hours=(hours=parseInt(a/3600))>0?hours:0,a%=3600,minutes=(minutes=parseInt(a/60))>0?minutes:0,seconds=(seconds=parseInt(a%60))>0?seconds:0;var i=t.find(".days > .value").parent(".section"),s=t.find(".hours > .value").parent(".section"),o=t.find(".minutes > .value").parent(".section"),d=t.find(".seconds > .value").parent(".section");0==days?i.hasClass("zero")||t.find(".days > .value").html("000").parent(".section").addClass("zero").next().addClass("zero"):(days_slice=days.toString().length>=3?days.toString().length:3,t.find(".days > .value").html(("000"+days).slice(-days_slice)),i.hasClass("zero")&&i.removeClass("zero").next().removeClass("zero")),0==days&&0==hours?s.hasClass("zero")||t.find(".hours > .value").html("00").parent(".section").addClass("zero").next().addClass("zero"):(t.find(".hours > .value").html(("0"+hours).slice(-2)),s.hasClass("zero")&&s.removeClass("zero").next().removeClass("zero")),0==days&&0==hours&&0==minutes?o.hasClass("zero")||t.find(".minutes > .value").html("00").parent(".section").addClass("zero").next().addClass("zero"):(t.find(".minutes > .value").html(("0"+minutes).slice(-2)),o.hasClass("zero")&&o.removeClass("zero").next().removeClass("zero")),0==days&&0==hours&&0==minutes&&0==seconds?d.hasClass("zero")||t.find(".seconds > .value").html("00").parent(".section").addClass("zero"):(t.find(".seconds > .value").html(("0"+seconds).slice(-2)),d.hasClass("zero")&&d.removeClass("zero").next().removeClass("zero"))},window.et_countdown_timer_labels=function(t){t.closest(".et_pb_column_3_8").length||t.closest(".et_pb_column_1_4").length||400>=t.children(".et_pb_countdown_timer_container").width()?(t.find(".days .label").html(t.find(".days").data("short")),t.find(".hours .label").html(t.find(".hours").data("short")),t.find(".minutes .label").html(t.find(".minutes").data("short")),t.find(".seconds .label").html(t.find(".seconds").data("short"))):(t.find(".days .label").html(t.find(".days").data("full")),t.find(".hours .label").html(t.find(".hours").data("full")),t.find(".minutes .label").html(t.find(".minutes").data("full")),t.find(".seconds .label").html(t.find(".seconds").data("full")))},e.length&&(window.et_pb_countdown_timer_init=function(e){e.each(function(){var e=t(this);et_countdown_timer_labels(e),et_countdown_timer(e),setInterval(function(){et_countdown_timer(e)},1e3)})},et_pb_countdown_timer_init(e))}),jQuery(document).ready(function(t){jQuery(document).on("divi_filter_completed",function(){var e=t(".et_pb_countdown_timer");e.length&&(window.et_pb_countdown_timer_init=function(e){e.each(function(){var e=t(this);et_countdown_timer_labels(e),et_countdown_timer(e),setInterval(function(){et_countdown_timer(e)},1e3)})},et_pb_countdown_timer_init(e));var a=t(".et_pb_tabs"),i=t("body").hasClass("et-fb");(a.length||i)&&(window.et_pb_tabs_init=function(e){var a=e.find(".et_pb_tabs_controls li");e.et_pb_simple_slider({use_controls:!1,use_arrows:!1,slide:".et_pb_all_tabs > div",tabs_animation:!0}).on("et_hashchange",function(e){var a=e.params,i=t("#"+e.target.id),s=a[0];i.find(".et_pb_tabs_controls li").eq(s).hasClass("et_pb_tab_active")||i.find(".et_pb_tabs_controls li").eq(s).click()}),a.click(function(){var e=t(this),a=e.closest(".et_pb_tabs").data("et_pb_simple_slider");if(a.et_animation_running)return!1;if(e.addClass("et_pb_tab_active").siblings().removeClass("et_pb_tab_active"),a.data("et_pb_simple_slider").et_slider_move_to(e.index()),e.closest(".et_pb_tabs").attr("id")){var i=[];i.push(e.closest(".et_pb_tabs").attr("id")),i.push(e.index()),et_set_hash(i=i.join(et_hash_module_param_seperator))}return!1})},window.et_pb_tabs_init(a))})}),jQuery(document).ready(function(t){function e(e,a){if(e.hasClass("loading"))return!1;var i=e.closest(".et_pb_de_mach_acf_slider "),s=i.find(".grid-item").attr("data-grid-image-ids"),o=i.find(".grid-item").attr("data-load-more-num"),d=i.find(".grid-item").attr("data-enable_lightbox"),n=i.find(".grid-item").attr("data-show_title_and_caption"),l=e.attr("data-loading_text"),c=e.text();t.ajax({url:filter_ajax_object.ajax_url,data:{action:"divi_filter_load_more_gallery_ajax_handler",data_grid_image_ids:s,data_load_more_num:o,enable_lightbox:d,show_title_and_caption:n},type:"POST",dataType:"JSON",beforeSend:function(){e.addClass("loading"),e.attr("disabled","disabled"),e.text(l)},success:function(s){if(e.removeClass("loading"),i.find(".grid-item").attr("data-grid-image-ids",s.ids),i.find(".grid-posts").append(s.content),e.text(c),0==s.data_load_more_num&&e.hide(),void 0!==t.fn.magnificPopup&&""!=s.gallery_image_urls&&!0==a){var o=t.magnificPopup.instance;t.each(s.gallery_image_urls,function(t,e){o.items.push({src:e})}),o.updateItemHTML()}}})}t(document.body).on("click",".et_pb_de_mach_load_more_button_link",function(a){var i;a.preventDefault(),e(t(this),!1)}),t(document.body).on("click",".mfp-arrow",function(a){var i,s=t(".mfp-img").attr("src"),o=t(".et_pb_gallery_items .grid-item:nth-last-child(2) img").attr("src");if(s==o){e(t(".et_pb_de_mach_load_more_button_link"),!0)}}),t(document).keydown(function(a){if(39===a.which){var i,s=t(".mfp-img").attr("src"),o=t(".et_pb_gallery_items .grid-item:nth-last-child(2) img").attr("src");if(s==o){e(t(".et_pb_de_mach_load_more_button_link"),!0)}}})});